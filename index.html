<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Neon Typing Fighter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Main Menu -->
        <div id="main-menu" class="menu-screen active">
            <!-- Top Corner Buttons -->
            <div class="corner-buttons top-left">
                <button class="icon-button" id="settings-btn" title="Settings">‚öôÔ∏è</button>
                <button class="icon-button" id="faq-btn" title="FAQ">‚ùì</button>
            </div>
            <div class="corner-buttons top-right">
                <button class="icon-button" id="themes-btn" title="Themes">üé®</button>
                <button class="icon-button" id="profile-btn" title="Profile">üë§</button>
                <button class="icon-button" id="achievements-btn" title="Achievements">üèÜ</button>
            </div>
            
            <div class="neon-title">
                <h1>NEON TYPING FIGHTER</h1>
                <div class="subtitle">CYBERPUNK TYPING DUEL</div>
            </div>
            
            <div class="main-menu-container">
                <!-- Center: Game Modes -->
                <div class="main-menu-center">
                    <div class="menu-buttons">
                        <button class="neon-button" id="solo-mode-btn">SOLO VS AI</button>
                        <button class="neon-button" id="timed-mode-btn">TIMED</button>
                        <button class="neon-button" id="endless-mode-btn">ENDLESS</button>
                        <button class="neon-button" id="multiplayer-mode-btn">MULTIPLAYER</button>
                        <button class="neon-button" id="learn-mode-btn">üéì LEARN</button>
                        <button class="neon-button" id="glossary-btn">üìö TECH GLOSSARY</button>
                    </div>
                    
                    <!-- Audio Controls Below Game Modes -->
                    <div class="audio-controls">
                        <button class="audio-toggle-btn" id="sound-toggle" title="Toggle Sound Effects">üîä SFX</button>
                        <button class="audio-toggle-btn" id="music-toggle" title="Toggle Background Music">üéµ MUSIC</button>
                    </div>
                </div>
                
                <!-- Right: Leaderboard -->
                <div class="main-menu-right">
                    <div class="main-menu-leaderboard" id="main-menu-leaderboard">
                        <div class="leaderboard-header">
                            <h3 class="neon-text">üèÜ TOP 10 üèÜ</h3>
                            <div class="leaderboard-tabs">
                                <button class="leaderboard-tab active" data-tab="timed">TIMED</button>
                                <button class="leaderboard-tab" data-tab="elo">ELO</button>
                                <button class="leaderboard-tab" data-tab="endless">ENDLESS</button>
                            </div>
                        </div>
                        <div class="leaderboard-list" id="main-menu-leaderboard-list">
                            <div class="loading-message">Loading...</div>
                        </div>
                        <button class="leaderboard-show-more" id="leaderboard-show-more">SHOW TOP 50</button>
                    </div>
                </div>
            </div>
            
            <!-- Bottom: User Panel -->
            <div class="user-panel" id="user-panel">
                <div class="user-info hidden" id="user-info">
                    <span class="user-name" id="user-name-display"></span>
                    <span class="verification-status hidden" id="verification-status">
                        <span class="unverified-badge" id="unverified-badge">‚ö†Ô∏è Email Not Verified</span>
                        <button class="resend-verification-btn" id="resend-verification-btn">Resend Email</button>
                    </span>
                    <button class="logout-btn" id="logout-btn">LOGOUT</button>
                </div>
                <div class="auth-buttons" id="auth-buttons">
                    <button class="neon-button small" id="login-btn">LOGIN</button>
                    <button class="neon-button small secondary" id="register-btn">REGISTER</button>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="login-modal" class="modal hidden">
            <div class="modal-content">
                <h2 class="neon-text">LOGIN</h2>
                <form id="login-form">
                    <div class="form-group">
                        <input type="text" id="login-username" placeholder="Username or Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="login-password" placeholder="Password" required>
                    </div>
                    <div class="error-message hidden" id="login-error"></div>
                    <div class="form-buttons">
                        <button type="submit" class="neon-button">LOGIN</button>
                        <button type="button" class="neon-button secondary" id="login-cancel">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Register Modal -->
        <div id="register-modal" class="modal hidden">
            <div class="modal-content">
                <h2 class="neon-text">REGISTER</h2>
                <form id="register-form">
                    <div class="form-group">
                        <input type="text" id="register-username" placeholder="Username (3-20 characters)" required>
                    </div>
                    <div class="form-group">
                        <input type="email" id="register-email" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="register-password" placeholder="Password (min 6 characters)" required>
                    </div>
                    <div class="error-message hidden" id="register-error"></div>
                    <div class="form-buttons">
                        <button type="submit" class="neon-button">CREATE ACCOUNT</button>
                        <button type="button" class="neon-button secondary" id="register-cancel">CANCEL</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- FAQ Modal -->
        <div id="faq-modal" class="modal hidden">
            <div class="modal-content faq-content">
                <h2 class="neon-text">‚ùì FAQ</h2>
                <div class="faq-section">
                    <h3>What is Neon Typing Fighter?</h3>
                    <p>A cyberpunk-themed typing game where your keyboard skills are your weapon. Battle AI opponents, race against time, or survive endless waves of words.</p>
                    
                    <h3>Who made this?</h3>
                    <p>Created by David to combine typing practice with gaming. Built with vanilla JavaScript, no frameworks needed.</p>
                    
                    <h3>Why does this exist?</h3>
                    <p>To make typing practice actually fun. Traditional typing tutors are boring ‚Äì this turns it into a competitive, neon-soaked cyberpunk battle.</p>
                    
                    <h3>Game Modes</h3>
                    <p><strong>Solo:</strong> Fight an AI opponent<br>
                    <strong>Timed:</strong> 15-second typing challenge<br>
                    <strong>Endless:</strong> Survive infinite waves<br>
                    <strong>Multiplayer:</strong> Battle against other players in PvP<br>
                    <strong>Learn:</strong> Master tech concepts at your own pace</p>
                </div>
                <button class="neon-button" id="faq-close">CLOSE</button>
            </div>
        </div>
        <!-- Timed Mode Screen  -->
        <div id="timed-mode-screen" class="hidden">
            <!-- Home Button -->
            <button class="home-button" id="timed-home-btn" title="Return to Menu">
                <span class="home-icon">üè†</span>
            </button>
            
            <!-- Start Game Overlay -->
            <div id="timed-start-overlay" class="timed-start-overlay">
                <div class="timed-start-content">
                    <h2 class="neon-text">TIMED CHALLENGE</h2>
                    <p class="timed-start-description">Type as many words as you can in 15 seconds!</p>
                    <div class="timed-start-rules">
                        <div class="rule-item">‚ö° 2 points per word</div>
                        <div class="rule-item">üíé Perfect words get 1.5x bonus</div>
                        <div class="rule-item">üî• Difficulty increases every 5 words</div>
                    </div>
                    <button class="neon-button" id="timed-start-game-btn">START GAME</button>
                    <button class="neon-button secondary" id="timed-start-back-btn">BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Timed Mode HUD -->
            <div class="timed-hud">
                <div class="timed-stat-box">
                    <div class="timed-stat-label">TIME</div>
                    <div class="timed-stat-value" id="timed-timer">15.00</div>
                </div>
                <div class="timed-stat-box">
                    <div class="timed-stat-label">SCORE</div>
                    <div class="timed-stat-value" id="timed-score">0</div>
                </div>
                <div class="timed-stat-box">
                    <div class="timed-stat-label">MULTIPLIER</div>
                    <div class="timed-stat-value" id="timed-multiplier">x1.0</div>
                </div>
            </div>

            <!-- Center Typing Area -->
            <div class="timed-center-area">
                <div class="word-display-container">
                    <div class="current-word" id="timed-current-word"></div>
                    <div class="next-word-preview" id="timed-next-word-preview">NEXT: </div>
                </div>

                <div class="typing-area">
                    <input type="text" id="timed-typing-input" class="neon-input" placeholder="Type the word..." autocomplete="off" spellcheck="false">
                    <div class="typing-feedback" id="timed-typing-feedback"></div>
                </div>
            </div>

            <!-- Particle Effects -->
            <div id="timed-particles-container"></div>

            <!-- Results Overlay -->
            <div id="timed-results-overlay" class="hidden">
                <div class="timed-results-content">
                    <h2 class="neon-text">TIME'S UP!</h2>
                    <div class="timed-score-display">
                        <div class="score-label">FINAL SCORE</div>
                        <div class="score-value" id="timed-final-score">0</div>
                    </div>
                    <div class="timed-best-score">
                        <div class="best-label">YOUR BEST</div>
                        <div class="best-value" id="timed-best-score">0</div>
                    </div>
                    <div class="global-leaderboard" id="global-leaderboard">
                        <div class="leaderboard-title">üèÜ GLOBAL TOP 10 üèÜ</div>
                        <div class="leaderboard-list" id="leaderboard-list"></div>
                    </div>
                    <div class="timed-stats" id="timed-stats"></div>
                    <div class="game-over-buttons timed-results-buttons">
                        <button class="neon-button" id="replay-timed-btn">PLAY AGAIN</button>
                        <button class="neon-button secondary" id="timed-menu-btn">RETURN TO MENU</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="hidden">
            <!-- Home Button -->
            <button class="home-button" id="game-home-btn" title="Return to Menu">
                <span class="home-icon">üè†</span>
            </button>
            
            <!-- Start Game Overlay -->
            <div id="game-start-overlay" class="game-start-overlay">
                <div class="game-start-content">
                    <h2 class="neon-text">SOLO VS AI</h2>
                    <p class="game-start-description">Battle against an AI opponent! First to deplete opponent's health wins.</p>
                    <div class="game-start-rules">
                        <div class="rule-item">‚ö° Type words perfectly for critical hits</div>
                        <div class="rule-item">üõ°Ô∏è Mistakes reduce damage dealt</div>
                        <div class="rule-item">üéØ Perfect accuracy = maximum damage</div>
                    </div>
                    <div class="difficulty-selector">
                        <label for="ai-difficulty-select">Select Difficulty:</label>
                        <select id="ai-difficulty-select" class="neon-select">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    <button class="neon-button" id="game-start-btn">START GAME</button>
                    <button class="neon-button secondary" id="game-start-back-btn">BACK TO MENU</button>
                </div>
            </div>
            
            <!-- Player 1 (Left Side) -->
            <div class="player-area player-left">
                <div class="player-info">
                    <div class="player-name" id="player1-name">PLAYER 1</div>
                    <div class="health-container">
                        <div class="health-bar-bg">
                            <div class="health-bar neon-cyan" id="player1-health" style="width: 100%"></div>
                        </div>
                        <div class="health-text" id="player1-health-text">100</div>
                    </div>
                </div>
                <div class="character-display" id="player1-character">
                    <div class="character-sprite"></div>
                </div>
            </div>

            <!-- Center Area -->
            <div class="center-area">
                <!-- Word Display -->
                <div class="word-display-container">
                    <div class="current-word" id="current-word"></div>
                    <div class="next-word-preview" id="next-word-preview">NEXT: </div>
                    <div class="word-queue" id="word-queue"></div>
                </div>

                <!-- Typing Input -->
                <div class="typing-area">
                    <input type="text" id="typing-input" class="neon-input" placeholder="Type the word..." autocomplete="off" spellcheck="false">
                    <div class="typing-feedback" id="typing-feedback"></div>
                </div>

                <!-- Combat Log -->
                <div class="combat-log" id="combat-log"></div>
            </div>

            <!-- Player 2 (Right Side) -->
            <div class="player-area player-right">
                <div class="player-info">
                    <div class="player-name" id="player2-name">OPPONENT</div>
                    <div class="health-container">
                        <div class="health-bar-bg">
                            <div class="health-bar neon-magenta" id="player2-health" style="width: 100%"></div>
                        </div>
                        <div class="health-text" id="player2-health-text">100</div>
                    </div>
                </div>
                <div class="character-display" id="player2-character">
                    <div class="character-sprite"></div>
                </div>
            </div>

            <!-- Particle Effects Container -->
            <div id="particles-container"></div>

            <!-- Game Over Overlay -->
            <div id="game-over-overlay" class="hidden">
                <div class="game-over-content">
                    <h2 class="neon-text" id="game-over-title">VICTORY</h2>
                    <div class="game-over-stats" id="game-over-stats"></div>
                    <div class="game-over-buttons">
                        <button class="neon-button" id="play-again-btn" style="display:none;">PLAY AGAIN</button>
                        <button class="neon-button secondary" id="return-menu-btn">RETURN TO MENU</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Match Start Countdown (Outside game-screen so it can show while lobby is visible) -->
        <div id="match-countdown-overlay" class="hidden">
            <div class="countdown-content">
                <div class="opponent-found-text">OPPONENT FOUND!</div>
                <div class="opponent-name-display" id="opponent-name-display"></div>
                <div class="countdown-number" id="countdown-number">3</div>
                <div class="countdown-text">GET READY!</div>
            </div>
        </div>

        <!-- Multiplayer Lobby (Combined PvP and Co-op) -->
        <div id="multiplayer-lobby" class="menu-screen hidden">
            <h2 class="neon-text">ONLINE MULTIPLAYER</h2>
            
            <!-- Mode Selection -->
            <div class="multiplayer-mode-selection" id="multiplayer-mode-selection">
                <div class="mode-card" id="pvp-mode-card">
                    <div class="mode-icon">‚öîÔ∏è</div>
                    <h3 class="mode-title">PLAYER VS PLAYER</h3>
                    <p class="mode-description">Battle against another player! First to zero health loses.</p>
                    <button class="neon-button" id="select-pvp-btn">START MATCHMAKING</button>
                </div>
                <div class="mode-card disabled" id="coop-mode-card">
                    <div class="mode-icon">ü§ù</div>
                    <h3 class="mode-title">CO-OP MODE</h3>
                    <p class="mode-description">Team up with another player to defeat a powerful boss!</p>
                    <button class="neon-button secondary" disabled>COMING SOON</button>
                </div>
            </div>
            
            <!-- Matchmaking Area (Hidden until mode selected) -->
            <div class="lobby-content hidden" id="lobby-matchmaking">
                <div class="selected-mode-header">
                    <h3 class="neon-text" id="selected-mode-title">PLAYER VS PLAYER</h3>
                    <button class="neon-button small secondary" id="change-mode-btn">CHANGE MODE</button>
                </div>
                
                <div class="connection-status" id="connection-status">Connecting...</div>
                <div class="lobby-stats hidden" id="lobby-stats">
                    <div class="stat-item">
                        <span class="stat-label">Players Online:</span>
                        <span class="stat-value" id="players-online">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">In Queue:</span>
                        <span class="stat-value" id="queue-position">0</span>
                    </div>
                </div>
                
                <button class="neon-button" id="find-match-btn">FIND MATCH</button>
                <button class="neon-button secondary" id="cancel-match-btn" style="display:none;">CANCEL</button>
                <button class="neon-button secondary" id="back-to-menu-btn">BACK TO MENU</button>
                
                <div class="waiting-message hidden" id="waiting-message">
                    <div class="searching-animation">
                        <div class="searching-dots">
                            <span></span><span></span><span></span>
                        </div>
                        <div class="searching-text" id="searching-text">Searching for opponent...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Theme Selector -->
        <div id="theme-selector" class="menu-screen hidden">
            <h2 class="neon-text">SELECT YOUR THEME</h2>
            <div class="theme-selector-content">
                <div class="theme-grid" id="theme-grid">
                    <!-- Theme cards will be inserted here -->
                </div>
                <button class="neon-button secondary" id="back-from-themes-btn">BACK</button>
            </div>
        </div>

        <!-- Settings Menu -->
        <div id="settings-menu" class="menu-screen hidden">
            <h2 class="neon-text">SETTINGS</h2>
            <div class="settings-content">
                <div class="settings-section">
                    <h3 class="setting-category">Audio</h3>
                    <div class="setting-item">
                        <label for="sound-volume">Sound Effects Volume</label>
                        <input type="range" id="sound-volume" min="0" max="100" value="50">
                        <span class="volume-value" id="sound-volume-value">50%</span>
                    </div>
                    <div class="setting-item">
                        <label for="music-volume">Music Volume</label>
                        <input type="range" id="music-volume" min="0" max="100" value="30">
                        <span class="volume-value" id="music-volume-value">30%</span>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="mute-sounds">
                            Mute All Sounds
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 class="setting-category">Gameplay</h3>
                    <div class="setting-item">
                        <label for="difficulty">AI Difficulty</label>
                        <select id="difficulty" class="neon-select">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="word-bank-select">Word Bank</label>
                        <select id="word-bank-select" class="neon-select">
                            <option value="cyberpunk">Cyberpunk</option>
                            <option value="names">Names</option>
                            <option value="all">All Words</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="show-fps">
                            Show FPS Counter
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 class="setting-category">Display</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="reduce-particles">
                            Reduce Particle Effects
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="screen-shake">
                            Enable Screen Shake
                        </label>
                    </div>
                </div>

                <button class="neon-button secondary" id="back-from-settings-btn">BACK</button>
            </div>
        </div>

        <!-- Achievements Screen -->
        <div id="achievements-screen" class="menu-screen hidden">
            <h2 class="neon-text">ACHIEVEMENTS</h2>
            <div class="achievements-content">
                <div class="achievements-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="achievements-unlocked">0</div>
                        <div class="stat-label">Unlocked</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="achievements-total">10</div>
                        <div class="stat-label">Total</div>
                    </div>
                </div>
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievement cards will be inserted here -->
                </div>
                <button class="neon-button secondary" id="back-from-achievements-btn">BACK</button>
            </div>
        </div>

        <!-- Profile Screen -->
        <div id="profile-screen" class="menu-screen hidden">
            <h2 class="neon-text">PLAYER PROFILE</h2>
            <div class="profile-content">
                <div class="profile-header" id="profile-header">
                    <div class="profile-info">
                        <h3 id="profile-username">Player</h3>
                        <p id="profile-elo">Current ELO: 1000</p>
                    </div>
                </div>
                
                <div class="profile-highscores">
                    <div class="highscore-card">
                        <h3>üéØ Timed Mode</h3>
                        <div class="highscore-value" id="timed-highscore">--</div>
                        <div class="highscore-label">Best Score</div>
                    </div>
                    <div class="highscore-card">
                        <h3>üåä Endless Mode</h3>
                        <div class="highscore-value" id="endless-highscore">--</div>
                        <div class="highscore-label">Best Wave</div>
                    </div>
                    <div class="highscore-card">
                        <h3>‚öîÔ∏è PvP Ranking</h3>
                        <div class="highscore-value" id="pvp-highscore">--</div>
                        <div class="highscore-label">Best ELO</div>
                    </div>
                </div>
                
                <button class="neon-button secondary" id="back-from-profile-btn">BACK</button>
            </div>
        </div>

        <!-- Tech Glossary Screen -->
        <div id="glossary-screen" class="menu-screen hidden">
            <h2 class="neon-text">TECH GLOSSARY</h2>
            <div class="glossary-content">
                <div class="glossary-header">
                    <div style="flex: 1; position: relative;">
                        <input type="text" id="glossary-search" class="glossary-search" placeholder="Search words..." autocomplete="off">
                        <div id="search-suggestions" class="search-suggestions hidden"></div>
                    </div>
                    <select id="glossary-category-filter" class="neon-select glossary-filter">
                        <option value="all">All Categories</option>
                        <option value="fundamentals">Fundamentals</option>
                        <option value="hardware">Hardware</option>
                        <option value="datastructures">Data Structures</option>
                        <option value="networking">Networking</option>
                        <option value="security">Security</option>
                        <option value="ai">AI/ML</option>
                        <option value="web">Web Dev</option>
                        <option value="cyberpunk">Cyberpunk</option>
                        <option value="system">System</option>
                        <option value="programming">Programming</option>
                        <option value="data">Data</option>
                        <option value="graphics">Graphics</option>
                        <option value="tools">Tools</option>
                    </select>
                    <button class="neon-button small" id="reset-view-btn">Reset View</button>
                    <button class="neon-button small" id="toggle-physics-btn">Physics: ON</button>
                </div>
                
                <div class="glossary-container">
                    <canvas id="mindmap-canvas"></canvas>
                    
                    <div id="word-definition-panel" class="definition-panel hidden">
                        <button class="close-btn" id="close-definition-btn">‚úï</button>
                        <h3 id="definition-word">WORD</h3>
                        <div class="definition-category" id="definition-category">Category</div>
                        <p id="definition-text">Definition will appear here</p>
                        <div class="related-words">
                            <h4>Related Concepts:</h4>
                            <ul id="definition-related"></ul>
                        </div>
                    </div>
                </div>
                
                <div class="glossary-legend">
                    <h4>Categories:</h4>
                    <div class="legend-items">
                        <span class="legend-item"><span class="legend-dot" style="background: #00ffff;"></span> Fundamentals</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #ff00ff;"></span> Hardware</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #ffff00;"></span> Data Structures</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #00ff00;"></span> Networking</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #ff0000;"></span> Security</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #ff00aa;"></span> AI/ML</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #00aaff;"></span> Web Dev</span>
                        <span class="legend-item"><span class="legend-dot" style="background: #aa00ff;"></span> Cyberpunk</span>
                    </div>
                </div>
                
                <button class="neon-button secondary" id="back-from-glossary-btn">BACK</button>
            </div>
        </div>

        <!-- Endless Mode Screen -->
        <div id="endless-mode-screen" class="menu-screen hidden">
            <!-- Home Button -->
            <button class="home-button" id="endless-home-btn" title="Return to Menu">
                <span class="home-icon">üè†</span>
            </button>
            
            <!-- Start Game Overlay -->
            <div id="endless-start-overlay" class="endless-start-overlay">
                <div class="endless-start-content">
                    <h2 class="neon-text">ENDLESS MODE</h2>
                    <p class="endless-start-description">Survive as many waves as you can! Each wave increases in difficulty.</p>
                    <div class="endless-start-rules">
                        <div class="rule-item">üåä Waves get progressively harder</div>
                        <div class="rule-item">‚è±Ô∏è Complete words before time runs out</div>
                        <div class="rule-item">üìà More words and less time each wave</div>
                        <div class="rule-item">üèÜ Compete for the top score!</div>
                    </div>
                    <button class="neon-button" id="endless-start-game-btn">START GAME</button>
                    <button class="neon-button secondary" id="endless-start-back-btn">BACK TO MENU</button>
                </div>
            </div>
            
            <div class="endless-container">
                <h2 class="neon-text">ENDLESS MODE</h2>
                <p class="endless-description">Survive as many waves as you can! Each wave increases in difficulty.</p>
                
                <!-- Wave Info -->
                <div class="endless-wave-header">
                    <div class="wave-stat">
                        <span class="stat-label">WAVE</span>
                        <span class="stat-value" id="endless-wave-number">1</span>
                    </div>
                    <div class="wave-stat">
                        <span class="stat-label">WORDS</span>
                        <span class="stat-value" id="endless-words-progress">0 / 5</span>
                    </div>
                    <div class="wave-stat">
                        <span class="stat-label">TIME</span>
                        <span class="stat-value" id="endless-timer">30s</span>
                    </div>
                </div>
                
                <div class="endless-wave-info" id="endless-wave-info">
                    Wave 1 - Complete 5 words in 30s
                </div>
                
                <!-- Game Area -->
                <div class="endless-game-area">
                    <div class="word-display">
                        <div class="current-word" id="endless-current-word">cyber</div>
                        <div class="next-word-preview" id="endless-next-word-preview">
                            <span class="next-word-label">NEXT:</span>
                            <span class="next-word" id="endless-next-word">matrix</span>
                        </div>
                    </div>
                    
                    <div class="typing-area">
                        <input type="text" 
                               class="neon-input" 
                               id="endless-typing-input" 
                               placeholder="Type the word..." 
                               autocomplete="off" 
                               spellcheck="false"
                               disabled>
                        <div class="typing-feedback" id="endless-typing-feedback"></div>
                    </div>
                </div>
                
                <!-- Leaderboard -->
                <div class="endless-leaderboard">
                    <h3 class="neon-text">TOP SURVIVORS</h3>
                    <div id="endless-leaderboard-list" class="leaderboard-list">
                        <!-- Leaderboard entries will be inserted here -->
                    </div>
                </div>
                
                <!-- Controls -->
                <div class="endless-controls">
                    <button class="neon-button" id="endless-start-btn">START GAME</button>
                    <button class="neon-button secondary" id="endless-back-btn">BACK TO MENU</button>
                </div>
                
                <!-- Game Over Screen -->
                <div id="endless-game-over" class="game-over-screen hidden">
                    <h2 class="neon-text" id="endless-game-over-title">GAME OVER</h2>
                    <div class="game-over-stats">
                        <div class="stat-row">
                            <span class="stat-label">Final Wave:</span>
                            <span class="stat-value" id="endless-final-wave">1</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Words Typed:</span>
                            <span class="stat-value" id="endless-total-words">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Critical Hits:</span>
                            <span class="stat-value" id="endless-total-criticals">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Survival Time:</span>
                            <span class="stat-value" id="endless-survival-time">0:00</span>
                        </div>
                    </div>
                    <div class="game-over-buttons">
                        <button class="neon-button" id="endless-play-again-btn">PLAY AGAIN</button>
                        <button class="neon-button secondary" id="endless-menu-btn">RETURN TO MENU</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learn Mode Screen -->
        <div id="learn-mode-screen" class="menu-screen hidden">
            <button class="home-button" id="learn-home-btn" title="Return to Menu">
                <span class="home-icon">üè†</span>
            </button>
            
            <div class="learn-container">
                <h2 class="neon-text">LEARN MODE</h2>
                <p class="learn-description">Master tech concepts at your own pace</p>
                
                <!-- Category Selection -->
                <div class="learn-category-select" id="learn-category-select">
                    <h3 class="category-title">Choose a Category:</h3>
                    <div class="category-grid">
                        <button class="category-btn" data-category="all">üåê All Categories</button>
                        <button class="category-btn" data-category="fundamentals">üîµ Fundamentals</button>
                        <button class="category-btn" data-category="hardware">üíú Hardware</button>
                        <button class="category-btn" data-category="datastructures">üíõ Data Structures</button>
                        <button class="category-btn" data-category="networking">üíö Networking</button>
                        <button class="category-btn" data-category="security">üî¥ Security</button>
                        <button class="category-btn" data-category="ai">üíó AI/ML</button>
                        <button class="category-btn" data-category="web">üî∑ Web Dev</button>
                        <button class="category-btn" data-category="cyberpunk">üü£ Cyberpunk</button>
                        <button class="category-btn" data-category="system">üü† System</button>
                        <button class="category-btn" data-category="programming">üü¢ Programming</button>
                        <button class="category-btn" data-category="data">üü° Data</button>
                        <button class="category-btn" data-category="graphics">üü™ Graphics</button>
                        <button class="category-btn" data-category="tools">üîß Tools</button>
                    </div>
                </div>
                
                <!-- Question Area -->
                <div class="learn-question-area hidden" id="learn-question-area">
                    <!-- Unlearned Terms Sidebar (left side) -->
                    <div class="learn-terms-sidebar" id="unlearned-sidebar">
                        <h4>üìö TO LEARN</h4>
                        <ul class="terms-list unlearned" id="unlearned-terms-list">
                            <li>Loading...</li>
                        </ul>
                    </div>
                    
                    <!-- Main Question Content (center) -->
                    <div class="learn-question-content">
                        <div class="learn-stats">
                            <div class="stat-box">
                                <div class="stat-label">Score</div>
                                <div class="stat-value" id="learn-score">0</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Accuracy</div>
                                <div class="stat-value" id="learn-accuracy">0%</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Questions</div>
                                <div class="stat-value" id="learn-questions-count">0</div>
                            </div>
                        </div>
                        
                        <div class="learn-question-card">
                            <h3 class="question-prompt">What is this?</h3>
                            <div class="question-definition" id="learn-definition">
                                Loading question...
                            </div>
                            
                            <div class="question-options" id="learn-options">
                                <button class="option-btn" data-option="0">
                                    <span class="option-number">1</span>
                                    <span class="option-text">Option 1</span>
                                </button>
                                <button class="option-btn" data-option="1">
                                    <span class="option-number">2</span>
                                    <span class="option-text">Option 2</span>
                                </button>
                                <button class="option-btn" data-option="2">
                                    <span class="option-number">3</span>
                                    <span class="option-text">Option 3</span>
                                </button>
                                <button class="option-btn" data-option="3">
                                    <span class="option-number">4</span>
                                    <span class="option-text">Option 4</span>
                                </button>
                            </div>
                            
                            <div class="learn-input-area">
                                <input type="text" id="learn-input" class="learn-input" 
                                       placeholder="Type answer or press 1-4..." 
                                       autocomplete="off" spellcheck="false">
                            </div>
                            
                            <div class="learn-actions">
                                <button class="neon-button small secondary hidden" id="explain-why-btn">
                                    üí° Explain Why
                                </button>
                                <button class="neon-button small hidden" id="next-question-btn">
                                    Next Question ‚ûú
                                </button>
                            </div>
                        </div>
                        
                        <div class="learn-feedback hidden" id="learn-feedback">
                            <div class="feedback-icon"></div>
                            <div class="feedback-text"></div>
                        </div>
                    </div>
                    
                    <!-- Learned Terms Sidebar (right side) -->
                    <div class="learn-terms-sidebar">
                        <h4>‚úì LEARNED</h4>
                        <ul class="terms-list learned" id="learned-terms-list">
                            <li>Start answering questions!</li>
                        </ul>
                    </div>
                </div>
                
                <button class="neon-button secondary" id="learn-back-btn">BACK TO MENU</button>
            </div>
        </div>
    </div>

    <!-- Achievement Unlock Toast -->
    <div id="achievement-toast" class="achievement-toast hidden">
        <div class="achievement-toast-content">
            <div class="achievement-toast-icon"></div>
            <div class="achievement-toast-text">
                <div class="achievement-toast-title">Achievement Unlocked!</div>
                <div class="achievement-toast-name"></div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="themes.js"></script>
    <script src="words.js"></script>
    <script src="glossary-data.js"></script>
    <script src="mindmap.js"></script>
    <script src="particle.js"></script>
    <script src="sounds.js"></script>
    <script src="auth.js"></script>
    <script src="highscore-api.js"></script>
    <script src="ai.js"></script>
    <script src="websocket.js"></script>
    <script src="game.js"></script>
    <script src="timedmode.js"></script>
    <script src="endlessmode.js"></script>
    <script src="learnmode.js"></script>
    <script src="coopmode.js"></script>
    <script src="main.js"></script>
</body>
</html>
